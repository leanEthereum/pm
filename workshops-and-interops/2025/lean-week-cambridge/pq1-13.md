# pq1-13: WHIR Performance (workshop)

## Categories
- PQ-theory
- PQ-implementation

## Related Talks
- [pq1-03](pq1-03.md): Hash-based zkSNARKs
- [pq1-12](pq1-12.md): WHIR Performance
- [pq3-04](pq3-04.md): Updates on Poseidon

## Summary
Giacomo Fenzi from EPFL led a workshop on WHIR optimizations, planning a simplest version to benchmark complexity, discuss gains, and explore WHIR 2.0. Commit phase: Multilinear polynomial folding (K factor: 1=2x, 5=32x); interleaved Reed-Solomon encoding per row; Merkle commitment + out-of-domain sampling for error bounding. Evaluation phase: Multilinear challenge sampling (2 points current); epsilon-bias generators for efficiency/soundness trade-offs (larger L increases commitment size but affords base-field elements). Tricks: Select/EQ polynomials for evaluations; no out-domain for second oracle. WHIR 2.0: Linear/tensor codes (optimal query ~lambda, verifier time = queries × read); MDS optimal rate-distance but non-MDS larger proofs/more hashing; open: Fold >log n with single encoding? Q&A: Error bounding in base field; out-of-domain eval via linear ops; Fix/Fax IOP different batching, not super useful.

## Key Takeaways
- **Commit Phase**: Fold by K; encode rows individually (interleaved RS); Merkle + out-of-domain samples; base field for cheap operations.
- **Evaluation Phase**: Sample multilinear challenges (2 current); trade L for smaller samples/base elements; keep ops in eval domain to avoid DFTs.
- **Tricks/Trade-offs**: Epsilon-bias for eval; select/EQ cheap; avoid materializing multilinear polys (matrix-vector ops); defer folding for efficiency.
- **Consistency Checks**: Rewrite as sumcheck claims; no second oracle; spot checks/fold/commit for verification.
- **WHIR 2.0 Ideas**: Linear encoding optimal query; MDS optimal but non-MDS worse trade-offs/proofs/hashing; tensor deteriorates distance/rate; open: >log n fold single encoding.
- **Q&A Insights**: CPU/memory bottlenecks (measure cache misses); FFT opts (cache-aware); non-AIR constraints; different batching in Fix/Fax not highly applicable.
- **Discussion**: Simplest version first; easy gains (primitives/parallelization/SIMD); CD4/combining tricks for efficiency.

## Speakers
- [Giacomo Fenzi](https://x.com/GiacomoFenzi) (EPFL)

## Resources
- Slides: none provided
- WHIR ePrint: [2024/1586: WHIR: Reed–Solomon Proximity Testing with Super-Fast Verification](https://eprint.iacr.org/2024/1586)
- [WHIR Repo](https://github.com/tcoratger/whir-p3/tree/main/src): Impl with optimizations.
- [Video](https://youtu.be/4Q-p67Ngu_U)

> back to: [Index Page](index.md)

*Note: Summaries were generated in part with the help of AI, so names and terms may not be 100% accurate.*