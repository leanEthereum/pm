# pq1-15: P2P Performance

## Categories
- PQ-devnet
- PQ-theory

## Related Talks
- [pq1-09](pq1-09.md): PQ Devnet Updates
- [pq1-10](pq1-10.md): PQ P2P Aggregation
- [pq1-14](pq1-14.md): Devnet Specs (workshop)
- [pq2-10](pq2-10.md): Devnet Breakout (p2p)
- [pq3-05](pq3-05.md): Lean p2p

## Summary
Raúl Kripalani from the EF's P2P team led a workshop on P2P networking perf, sharing L1 insights (CL/libp2p with TCP/Noise/QUIC/GossipSub/Discv5; EL/devp2p) and inefficiencies (duplicates, topic overhead, attestation spikes). Evolving to EP2P via MinP2P (libp2p-compatible simplification with dedicated broadcast, traffic shaping, peering, mixnets). Discussion: Validator privacy/IP leakage, throughput, CL/EL unification (dual-stack transition), TCP deprecation (QUIC primary, TCP fallback), custom sig/agg protocols. Telemetry spans kernel/stack/protocol/app metrics. Principles: Structured/unstructured routing, directed/undirected, subnetting, latency primitive, self-organizing, degradation. Q&A: MinP2P simplifies, EP2P redesigns; transition dual-stack/fork; TCP/QUIC coexistence; goodput optimization; edge layers for constrained devices.

## Key Takeaways
- **L1 Overview**: CL (libp2p: TCP/Noise/QUIC, GossipSub, Discv5) + EL (devp2p); domains (gossip/req/resp); inefficiencies (duplicates, 190B attestations with 25% topic overhead, pulsatile broadcasts).
- **Stack Evolution**: MinP2P (libp2p-compatible, reduced complexity) to EP2P (Ethereum-specific); replace GossipSub with dedicated protocols (sig dispatch/agg); features (shaping/peering/mixnets).
- **Goals**: Share L1 insights; agree Devnet requirements/roadmap; principles/space; discuss solutions/prototypes.
- **Discussion**: Privacy vs. leakage; unify stacks (dual/fork); deprecate TCP/Yamux (QUIC primary); custom protocols; telemetry (congestion/churn/msgs/peer).
- **Principles**: Structured (e.g., grid) vs. unstructured (GossipSub); directed/undirected; subnetting; latency-aware; self-organizing; degrade gracefully.
- **Q&A Insights**: MinP2P vs. EP2P (simplify vs. redesign); transition dual-stack/deprecate; TCP fallback; goodput wasted on duplicates; trustless edges for constrained devices.
- **Suggestions**: Erasure-coded broadcast (128KB); fast-path overlays; simulate topologies; minimal stack for Devnet-1 (QUIC/streams/custom).

## Speakers
- [Raúl Kripalani](https://x.com/raulvk) (EF - p2p)

## Resources
- [Slides](https://drive.google.com/file/d/1VOab3OvsueyFHqWpLtxgLg_z4xdDpii5/view?usp=drive_link)
- [HackMD Notes](https://hackmd.io/@rkripalani/p2p-perf-lean): Workshop scratch notes.
- [Video](https://youtu.be/5wBbofSUEfg)

> back to: [Index Page](index.md)

*Note: Summaries were generated in part with the help of AI, so names and terms may not be 100% accurate.*