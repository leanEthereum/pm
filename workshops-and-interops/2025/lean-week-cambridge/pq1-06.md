# pq1-06: XMSS Signature Aggregation

## Categories
- leanVM
- formal verification

## Related Talks
- [leanVM-01](leanVM-01.md): leanVM Crash Course & Sumcheck Optimization
- [leanVM-02](leanVM-02.md): Memory Models & Lookup Arguments
- [pq1-05](pq1-05.md): Minimal zkVM for Lean Ethereum
- [pq1-12](pq1-12.md): WHIR Performance
- [pq2-04](pq2-04.md): Minimal zkVM
- [pq3-03](pq3-03.md): Minimal zkVM - Cairo M Design

## Summary
Thomas Coratger from the Ethereum Foundation's zkEVM team outlined open problems and ongoing work across the XMSS signature aggregation stack for Ethereum's post-quantum security. He categorized efforts into four repositories: hash-sig (Rust prototype for LeanSig/XMSS, focusing on docs, tests, refactoring, and SIMD/parallelism for speedups), Plonky3 (toolkit for PIOPs with fields like KoalaBear and hashes like Poseidon2, needing SIMD for extensions, Fiat-Shamir refinements, Merkle optimizations, and integration of multilinear utils + sumcheck + WHIR), WHIR (PCS implementation targeting sumcheck enhancements like univariate skip/Bagad, better first-round handling, efficient batched eval_eq, 'Select' trick to eliminate DFTs, FRI-comparable speed, and batch opening), and leanMultisig (LeanVM for aggregation/recursion, aiming for 1000 sigs/sec and 250ms 2:1 via optimizations, finalizing design, upstreaming primitives to Plonky3, and enhancing security/tests/codebase). The talk emphasized upstreaming public goods, peer reviews, and benchmarks to de-risk PQ integration.

## Key Takeaways
- **hash-sig Repo**: Feature-complete Rust prototype for XMSS/LeanSig; prioritize client-friendly docs/APIs, proptests, refactoring, and low-level speedups (SIMD, better parallelism, Merkle tweaks).
- **Plonky3 Repo**: Core primitives (fields, Poseidon2, AIR constraints, FRI/Tensor PCS); focus on SIMD for extensions/dot products, Fiat-Shamir alignment with WHIR, matrix ops efficiency, and full multilinear/sumcheck/WHIR integration with tests.
- **WHIR Repo**: Optimize sumcheck (univariate skip, Bagad et al.), first rounds/parallelism/SIMD, batched eval_eq; implement 'Select' trick to remove eval-domain DFTs; benchmark vs. FRI for speed parity; add batch opening support (upstream from fork).
- **leanMultisig Repo**: LeanVM targets 1000 XMSS sigs/sec aggregation and <250ms 2:1 recursion; evaluate compiler needs, lock simple design, upstream primitives to Plonky3, conduct peer reviews, bolster security/tests, and clean codebase.
- **Overall Goals**: Upstream optimizations as public goods for community benefits; achieve performance to enable PQ devnet; ensure modular, verifiable stack for Ethereum's lean consensus.
- **Q&A**: Batch PCS exists in a fork but needs generalization for upstream; no immediate WHIR batch implementation details.

## Speakers
- [Thomas Coratger](https://x.com/tcoratger) (EF - zkEVM)

## Resources
- [Slides](https://docs.google.com/presentation/d/1G5USXyDqiZgY0-lAk-jsEEcTuWlnAl3aY5MgqjxpFZ8/edit?usp=drive_link)
- [hash-sig Repo](https://github.com/b-wagn/hash-sig): Rust prototype for hash-based signatures; benchmarks via Criterion; ePrint reference: [2025/055](https://eprint.iacr.org/2025/055)
- [Plonky3 Repo](https://github.com/Plonky3/Plonky3): PIOP toolkit with fields/hashes/PCS; benchmarks for large Poseidon2 permutations
- [WHIR Repo](https://github.com/tcoratger/whir-p3/tree/main/src): WHIR PCS implementation; planned upstream to Plonky3
- [leanMultisig Repo](https://github.com/leanEthereum/leanMultisig): LeanVM for PQ multisig; combines XMSS and zkVM
- [Video](https://youtu.be/xLd6Jr9mDbY)

> back to: [Index Page](index.md)

*Note: Summaries were generated in part with the help of AI, so names and terms may not be 100% accurate.*