# pq1-08: ArkLib: Verified Proof Systems in Lean

## Categories
- formal verification

## Related Talks
- [pq1-07](pq1-07.md): zk(E)VM Formal Verification
- [pq2-05](pq2-05.md): e2e Formal Verification
- [pq2-08](pq2-08.md): Walkthrough of ArkLib
- [pq3-07](pq3-07.md): Proximity Prize (workshop)

## Summary
Quang Dao from Carnegie Mellon University introduced ArkLib, a Lean library for formal verification of SNARK protocols, providing executable specifications and mechanized security proofs. Motivated by scattered/informal protocols and lack of verified spec-to-implementation linkages, ArkLib formalizes Functional Interactive Oracle Reductions (IORs) for modular compositions, enabling manageable proofs via sequential gluing and virtualization (e.g., mapping inputs/outputs for inner protocols like Sum-Check in Spartan). Near-term goals include Functional BCS transforms and duplex-sponge Fiat-Shamir for practical efficiency. Progress includes protocols like Sum-Check, (Super)Spartan, FRI/BaseFold/FRI-Binius, STIR/WHIR prelims, and Fiat-Shamir; preliminaries for computable polynomials, binary tower fields, and coding theory (proximity gaps); infrastructure for compact descriptions, VCVio (crypto reasoning), and iris-lean (program logic). Verified Rust implementations via Lean extraction. Q&A covered soundness notions (round-by-round knowledge soundness implying state restoration/argument soundness), definitions (original/wallpaper, no tree extraction yet), ensuring formalized intent (reviews, AI PR checks like Gemini 1.5), Mathlib reuse (develop computable types, transfer lemmas), and IOR model fit (all interactive arguments castable, though FRI less nicely).

## Key Takeaways
- **Executable Specs and Proofs**: Addresses informal/incomplete security proofs by mechanizing them in Lean, unifying conventions for scattered protocols.
- **IOR Abstraction**: Breaks complex protocols into composable reductions; sequential for matching I/O, virtualization for embedded invocations (e.g., virtual polynomials in Spartan).
- **Security Notions**: Focus on round-by-round knowledge soundness for IORs, implying state restoration and argument soundness; reductions between variants.
- **Progress and Infrastructure**: Protocols formalized; computable types/coding prelims developed; tools for crypto reasoning (VCVio) and program logic (iris-lean).
- **Future Work**: Functional BCS, duplex-sponge Fiat-Shamir; more contributors needed for compact descriptions and artillery libraries.
- **Q&A Insights**: AI reviews catch misformalizations; reuse Mathlib via computable transfers; all arguments fit IOR, but some (e.g., FRI) less elegantly.
- **Integration**: Part of Verified zkEVM Project; enables end-to-end verification from specs to Rust code.

## Speakers
- [Quang Dao](https://x.com/QuangVDao) (CMU)

## Resources
- [Slides](https://drive.google.com/file/d/1HrPPoDc2_FQM3gIVQtdWXz_Z-BddGWjf/view?usp=drive_link)
- [ArkLib GitHub Repo](https://github.com/Verified-zkEVM/ArkLib): Formally Verified Arguments of Knowledge in Lean; includes executable specs and proofs.
- [Verified zkEVM Project](https://verified-zkevm.org/): Broader initiative including ArkLib.
- [Video](https://youtu.be/3gMGqr96bjY)

> back to: [Index Page](index.md)

*Note: Summaries were generated in part with the help of AI, so names and terms may not be 100% accurate.*