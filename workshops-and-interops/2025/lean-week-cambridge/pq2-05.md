# pq2-05: e2e Formal Verification

## Categories
- formal verification

## Related Talks
- [pq2-01](pq2-01.md): PQ Ethereum Workshop - Day 2 Kickoff
- [pq2-04](pq2-04.md): Minimal zkVM
- [pq2-08](pq2-08.md): Walkthrough of ArkLib
- [pq2-11](pq2-11.md): PQ Ethereum Workshop - Day 2 Recap

## Summary
Julian Sutherland presented on end-to-end formal verification for one-proving in Ethereum, focusing on trust bases for zkEVMs and RISC-V execution. He outlined dependencies: Solidity/EVM semantics, compilers to RISC-V bytecode, and zkVMs for proofs. Key challenges include lacking formal semantics for Solidity and execution clients (e.g., Reth in Rust, Geth in Go). Existing EVM models (K-EVM, Lean-EVM, Coq-EVM) vary in completeness; Nethermind's Lean-EVM passes 99.99% of tests. Discussions clarified verified vs. verifying compilers (e.g., CompCert) and certifying compilers (outputting proofs per compilation). EDSLs (Plonky3, Halo2) leverage host languages but complicate extraction; DSLs (Circom, Noir) enable easier semantics but require custom tools. Nethermind instruments EDSLs for Lean extraction, proving semantics preservation. LZIR proposed as unified IR for multiple backends and verifiers. Progress includes verifying ALU chips against RISC-V specs; Q&A explored hardware verification, alternatives like Ada/SPARK, and ongoing efforts in formal models/compilers.

## Key Takeaways
- Trust base for zkEVM requires formal semantics for Solidity/EVM/RISC-V; Lean-EVM (Nethermind) passes nearly all tests, enabling verified compilation to RISC-V.
- Verified compilers preserve semantics universally; certifying compilers prove per-instance; EDSLs ease development but extraction is complexâ€”Nethermind uses instrumentation for Lean proofs.
- DSLs simplify semantics but need custom tooling; LZIR unifies IR for extractions to Lean/SMT and multiple provers (Plonky3, Halo2).
- Verified ALU in zkVMs against RISC-V specs; alternatives like Ada/SPARK or domain-specific compilers viable for Ethereum clients.
- Automation in verifiers (e.g., Grind tactic) reduces proof effort; hardware verification (e.g., RISC-V chips) complements software for full e2e trust.

## Speakers
- Julian Sutherland (Nethermind)

## Resources
- Slides: not provided
- [Video](https://youtu.be/muryYp1ZIO8)

> back to: [Index Page](index.md)

*Note: Summaries were generated in part with the help of AI, so names and terms may not be 100% accurate.*